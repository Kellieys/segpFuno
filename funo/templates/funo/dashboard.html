{% extends 'funo/main.html' %}

{% load static %}

{% block content %}
    {% include 'funo/graph.html'%}
    <div class="wrapper">
       
        <div class="sidebar" style="background:url({% static 'funo/img/bg-01.jpg' %});">
            <!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | blue | green | orange | red"
        
        Tip 2: you can also add an image using data-image tag
        -->
            <div class="sidebar-wrapper">
                <div class="logo">
                    <a href="/" class="simple-text">
                        <img src="{% static 'funo/img/funowhitenew.png' %}" width=180>
                    </a>
                </div>
                <ul class="nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="{% url 'function' %}">
                            <i class="nc-icon nc-chart-bar-32"></i>
                            <p>Dashboard</p>
                        </a>
                    </li>
                    <li>
                        <a class="nav-link" href="{% url 'user' %}">
                            <i class="nc-icon nc-circle-09"></i>
                            <p>User Profile</p>
                        </a>
                    </li>
                    <li>
                        <a class="nav-link" href="{% url 'aboutus' %}">
                            <i class="nc-icon nc-grid-45"></i>
                            <p>About Us</p>
                        </a>
                    </li>
                    
                    <li>
                        <a class="nav-link" href="{% url 'support' %}">
                            <i class="nc-icon nc-atom"></i>
                            <p>Support</p>
                        </a>
                    </li>
                    
                    <li>
                        <a class="nav-link" href="{%url 'subs'%}">
                            <i class="nc-icon nc-email-85"></i>
                            <p>Subscription</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        
       
        <div class="main-panel">

         {% include 'funo/navbar.html' with page=page %}

         <div class="content">
            <!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
<div class="tradingview-widget-container__widget"></div>
<script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
{
"symbols": [
 {
   "description": "CORN",
   "proName": "AMEX:CORN"
 },
 {
   "description": "WHEAT",
   "proName": "AMEX:WEAT"
 },
 {
   "description": "COMMODITY",
   "proName": "AMEX:TAGS"
 },
 {
   "description": "SOYBEAN",
   "proName": "AMEX:SOYB"
 },
 {
   "description": "POULTRY",
   "proName": "EGX:EPCO"
 }
],
"colorTheme": "light",
"isTransparent": false,
"displayMode": "adaptive",
"locale": "en"
}
</script>
</div>
<!-- TradingView Widget END -->
</br>
<div class="content">
    <div class="container-fluid">
        <div class="card">
            <div class="aboutbanner" style="background:url('/static/funo/img/hope3.jpg'); background-position: bottom right;">
                <h1 style="color:white; text-shadow: 5px 5px 6px #000000; text-align:center;">Discover the Commodities Price Forecast</h4>
                <b><i><h5 style="color:white; font-weight:400; text-shadow: 3px 3px 6px #000000; text-align: center;">Weekly report on commodity price trends and forecasts.
                </h4></i></b>
            </div>
            <div class="card-body">

<div class="container-fluid">
           <ul class="nav nav-tabs" id="myTab" role="tablist">
               <li class="nav-link">
                 <a class="nav" href="{% url 'function' %}">Overview</a>
               </li>
               <li class="nav-link active">
                <a class="nav" href="{% url 'dashboard' %}">Forecast</a>
               </li></a>
             </ul>
            </br>
                <div class="container-fluid">
                <form method='GET'>
                    <div class= "row">
                        <div class="col-md-12">
                            <h5><b>Forecast Selection</b></h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <p style="color:black;font-size: 14px;"><i>Which commodity would you like to forecast today?</i></p>
                            <div class="nav-item dropdown" >
                                        <select class="nav-link dropdown-toggle form-control" name="commodity" id="DropdownSearch" data-toggle="dropdown" aria-haspopup="true" >
                                            
                                        
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <option class="dropdown-item"  name="option"  value="">--Select Commodity--</option>
                                            
                                            <optgroup label="Vegetables">
                                                <option class="dropdown-item"  name="option"  value="kangkung">Water Spinach</option>
                                                <option class="dropdown-item"  name="option"  value="sawiHijau">Choy Sum</option>
                                                <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="LongBean"disabled>Long Beans</option>
                                                <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="more"disabled>--More--</option>
                                            </optgroup>
                                            
                                            <optgroup label="Fruits">
                                                <option class="dropdown-item" name="option"  value="tomato">Tomato</option>
                                                <option class="dropdown-item" name="option"  value="chilli">Red Chilli</option>
                                                <option class="dropdown-item" name="option"  value="coconut">Coconut</option>
                                                <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="Durian"disabled>Durian</option>
                                                <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="More"disabled>--More--</option>
                                            </optgroup>

                                            <optgroup label="Poultry">
                                                <option class="dropdown-item"  name="option" value="chicken">Chicken</option>
                                                <option class="dropdown-item" name="option"  value="eggA">Egg (Grade A)</option>
                                                <option class="dropdown-item" name="option"  value="eggB">Egg (Grade B)</option>
                                                <option class="dropdown-item" name="option"  value="eggC">Egg (Grade C)</option>
                                                <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="Omegaegg"disabled>Omega Egg</optio>
                                                
                                            </optgroup>
                                           
                                        </div></select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <p style="color: #000000;font-size: 14px;"><i>Which period would you like to forecast?</i></p>
                            <div class="nav-item dropdown">
                                        <select class="nav-link dropdown-toggle form-control"name="duration" id="DropdownSearch" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                            
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <option class="dropdown-item"  name="option"  value="">--Select Duration--</option>
                                            <option class="dropdown-item"  name="option"  value="sixmonth">6 Months</option>
                                            <option class="dropdown-item"  name="option"  value="oneyear">1 Year</option>
                                            <option class="dropdown-item"  name="option"  value="threeyear">3 Year</option>
                                            <option class="dropdown-item"  name="option"  value="fiveyear">5 Year</option>
                                            <option class="dropdown-item"  name="option"  value="tenyear">10 Year</option>
                                            <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="more"disabled>--More--</option>


                                        </div></select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <p style="color:black;font-size: 14px;"><i>How would you like your data to display?</i></p>
                            <div class="nav-item dropdown">
                                    <select class="nav-link dropdown-toggle form-control"name="datatype" id="DropdownSearch" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">Output Type
                                            <option class="dropdown-item"  name="option"  value="">--Output Type--</option>
                                            <option class="dropdown-item"  name="option"  value="pastdata">Past Data</option>
                                            <option class="dropdown-item"  name="option"  value="forecast3month">Forecast Data (3 Months)</option>
                                            <option class="dropdown-item"  name="option"  value="forecast6month">Forecast Data (6 Months)</option>
                                            <option class="dropdown-item"  name="option"  value="forecast1year">Forecast Data (1 Year)</option>
                                            <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only" value="5years"disabled>Forecast Data (5 Years)</option>
                                            <option class="dropdown-item"  name="option" data-toggle="tooltip" title="Premium FUNO only"  value="more"disabled>--More--</option>
                                            
                                        </div></select>
                            </div>                        
                        </div>

                         <div class="col-md-3">
                            <p style="color:black;font-size: 14px;"><i>Please select the model type: </i></p>
                         </br>
                            <div class="nav-item dropdown">
                                    <select class="nav-link dropdown-toggle form-control"name="multivariate" id="DropdownSearch" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        
                                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                            <option class="dropdown-item"  name="option"  value="">--Forecast Model Type--</option>
                                            <option class="dropdown-item"  name="option"  value="False">Univariate</option>
                                            <option class="dropdown-item"  name="option"  value="True">Multivariate</option>
                                        </div></select>
                            </div>                        
                        </div>
                            
                                        
                            <div class="col-md-3">
                                <a ><button class="nav-link nav-item"  id="submitbutton" type="submit"><i class="nc-icon nc-zoom-split"></i>&nbsp; &nbsp; Search</button></a>
                                
                            </div>
                        </div>
                    </div> </form>

                    <div class="container-fluid" style="margin: 20px 0 20px 0;">
                        <div class="row">
                            <div class="col-md-12">
                                            <div>
                                            <h2 id = "commodityItem" style="font-weight: 400;"></h2>
                                            <div id = "current_price"></div>
                                            <div id = "nextweek_price"></div>
                                            </div>
                            </div>
                        </div>

                        <div class="card" style="padding: 40px; height: 100%;">
                            <div class="row">
                                <div class="col-md-12">
                                    <div id='loader'>
                                        <div class="loader" style="margin:auto;"></div>
                                    </div> 
                                    <canvas id="myChart" style="display:block; height: 266px; width: 532px;"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div id = "information"></div>

                        <div class="row">
                            <div class="col-md-12">
                                    <h4><i>Recent Price and Price Change</i></h4>
                            </div>
                        </div>

                        <div class="card" style="padding: 40px; height: 100%;">
                        <div class="row">
                            <div class="col-md-12">
                                        <div id="tableItem" style="margin:auto;"></div>          
                            </div>
                            <div class="col-md-12" id ="downloadLink"></div>
                        </div>
                        </div>
                        </div>
                        </div>
                        </div>
                  
                    </div>
                </div>
               {% include 'funo/chatbox.html' %}
                {% include 'funo/footer.html' %}

            </div>

        </div>

{% endblock %}